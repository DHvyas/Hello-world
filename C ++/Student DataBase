/* PROGRAM TO SORT AND SEARCH STUDENT DATA BY ROLL NUMBER, NAME AND MARKS*/
#include<iostream.h>
#include<conio.h>
#include<stdio.h>
const int MAX = 5;
struct student
{
	int roll;
   char name[20];
   float theory,practical,total;
};
void input(student S[])
{
	for(int i=0;i<MAX;i++)
   {
   	clrscr();
      cout<<"Enter the values for student number "<<(i+1)<<" : ";
      cout<<"\n Roll number : ";
      cin>>S[i].roll;
      cout<<"\n Name : ";
      cin>>S[i].name;
      cout<<"\n Theory marks (0-70): ";
      cin>>S[i].theory;
      cout<<"\n Practical marks (0-30): ";
      cin>>S[i].practical;
   	S[i].total=S[i].practical+S[i].theory;
   }
}
void display(student S[])
{
	clrscr();
   printf("Roll no : ");
   printf("Name : ");
   printf("Theory : ");
   printf("Practical : ");
   printf("Total : ");
   for(int i=0;i<MAX;i++)
   {
      cout<<endl;
      printf("%8d",S[i].roll);
      printf("%7s",S[i].name);
      printf("%9.2f",S[i].theory);
      printf("%12.2f",S[i].practical);
      printf("%8.2f",S[i].total);
   }

   getch();
}
void selection(student S[])
{
	int i,j,min;
   student temp;
   for(i=0;i<MAX-1;i++)
   {
   	min=i;
      for(j=i+1;j<MAX;j++)
      	if(S[j].roll<S[min].roll)
         	min=j;
   	temp=S[i];
      S[i]=S[min];
      S[min]=temp;
   }
   cout<<"Data has been sorted"<<endl;
   getch();
}
void linear (student S[])
{
	int roll;
   cout<<"Enter thr roll number to search : ";
   cin>>roll;
	int found =0,pos;
   for(int i=0;i<MAX&&found ==0;i++)
   	if(S[i].roll==roll)
      {
      	pos=i;
         found=1;
      }
   pos--;
   if(found==1)
   	cout<<"Element found at position "<<pos<<endl;
   else cout<<"Not Found";
   getch();
}
void binary(student S[])
{
	int roll;
   cout<<"Enter the roll number to search : ";
   cin >>roll;
	int high=MAX-1;
   int low=0;
   int mid;
   int found =0;
   while(found==0&&high>low)
   {
   	mid = (high+low)/2;
      if(roll>S[mid].roll)
      	low=mid+1;
      else if(roll<S[mid].roll)
      	high=mid-1;
      else found = 1;
   }
   if(found==1)
   	cout<<"Element found at position "<<mid<<endl;
   else cout<<"Not Found";
   getch();
}
void d(student S[])
{
	for(int i=0;i<MAX;i++)
   	if(S[i].total>=50&&S[i].total<=70)
      {
      	cout<<"\n Roll number : "<<S[i].roll;
   	   cout<<"\n Name : "<<S[i].name;
      	cout<<"\n Theory marks : "<<S[i].theory;
      	cout<<"\n Practical marks : "<<S[i].practical;
         cout<<"\n Total marks : "<<S[i].total;
      }
	getch();
}
void menu(student S[])
{
	int i;
	do
   {
   	clrscr();
   	cout<<"\n1. Input values"
          <<"\n2. Display values"
          <<"\n3. Sort on roll"
          <<"\n4. Search binary on roll"
          <<"\n5. Search linear on roll"
          <<"\n6. Selective Display"
          <<"\n7. EXIT";
      cout<<"\nEnter choice : ";
      cin>>i;
      if(i==1)
      	input(S);
      else if(i==2)
      	display(S);
      else if(i==3)
      	selection(S);
      else if(i==4)
      	binary(S);
      else if(i==5)
      	linear(S);
      else if(i==6)
      	d(S);
   }
   while(i!=7);
}
void main()
{
	student S[MAX];
   menu(S);
}

